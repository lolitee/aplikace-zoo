using System;
using System.Diagnostics;
using Zoo.Database;

namespace Zoo
{
    internal class Debug
    {
        public static System.Diagnostics.Stopwatch timer = new Stopwatch();

        private string ivan
        {
            get =>
                  @"
                    ................................................................................
                    (,*,,,****,,,......,,.................,......,,,...,,,..............,,,.........
                    **,,,,***/,,,......,,,................,..,...,,**....,,........,,...,,,,,,......
                    ,,,,,,**///,,...,,.,**,.............,..,..,...,*/*....,,. ..,...,*,..,..........
                    ,,,*,,*/(((*,,..,*,,*//,..........,,.,,.,,,,*..,*//*....,,....,,,,**,...........
                    ,,,//**/(((((*,..*/*,*//*,,,..,....,,,*,.,*,,*,..*///*...,,,,,,******,,.........
                    .,*/((**/((((((*,,*(/**/((*,,..,....,,.,**,,*////,,,*////**///*//******,,.......
                    ,./#((((((((##(((*,,//(///((/*,.,,,,,,*,,,*/**/(//((/////////////********,.. ..
                    ,,(((////**,,***///////((((((((/(/*//////////////////*******/**************,....
                    //((/////*****,,,,***//////((((((//////////***,,,,,,,,,,,,,,,,,,,***********,...
                    ##((///******,,***,,****/////(((/////******,,,,,,,,**********************/***,..
                    ##((/**,,*,,,..,,,,,,,***/////(////*******,,,**********,,**,***********/**/***,.
                    ##((//*,,,***,..... .,*,**//((//////****,**,,,,,,**,,,,,,,,.,,,,****//////****,.
                    #######(//////*,,.,,***//*//(((((///**,*,,,,,,*/,.. . ......,,,,***////////***,,
                    ####%###((///******/////////((#(((//*****/****///,....,,,,,***//////(///////***,
                    ##########((//////////(((((((###(////////////*****,******/////////(//////*******
                    ############((((#((((((###((####(/////////////**/****//////(//((/////////*******
                    ##((#((((###############(###%%##((///////(((((((///////(((((((//////////********
                    %%(((((((####(((((##(((/((#####(((///**///((((((((((((((((((/////////***********
                    %%#((((((((((((((((((///(/**////******///**//(((((((((((((///////////***********
                    %%#(((((((((//////(((((//*,,,,,,,,,..,******///(((((((((//////////**************
                    #%%#((///////////((((((((((//////*****,,****/////////(/////////*****************
                    %%%%(//////***/*/////(((((((((/////(//////////////////////////**********,,***,**
                    #%%%%(/*/*******,,,,*,***////**/((((/////////////*/*******//************,,*,,,,,
                    #%%%%%(*/***/*********,,,,.,,...,,,,,.,,,,,,,..,,,,,*************,***,,,,,,,,,,,
                    #%%%%%#(/*************/*****************,**********,,********,,,,,,,,,,,,,,,,,,,
                    #%%%%%%%(//***************,*****,,,,,,*******,***************,,,,,,,,,,,,,,,,,,.
                    #%%%%%%%%%#/****************,,,,,,,,,,,,,,,*******************,,,,,,,,,,,,,,,,,.
                    %%%%%%%%%%%#(*******////////******************************,,,,,,,,,,,,,,,,,,,,..
                    ";
        }

        public static void Log(string txt)
        {
            var stackTrace = new StackTrace();
            var caller = stackTrace.GetFrame(1).GetMethod().Name;
            Console.WriteLine($"[{DateTime.Now:T}]: {caller} => {txt}");
        }

        public Debug(DB db)
        {
            try
            {
                Console.ForegroundColor = ConsoleColor.Red;
                Console.WriteLine(ivan);
                Console.ForegroundColor = ConsoleColor.Magenta;

                var ctl = new ConsoleTraceListener(false) { TraceOutputOptions = TraceOptions.DateTime };
                Trace.Listeners.Add(ctl);

                Trace.AutoFlush = true;

                Trace.WriteLine($"[{DateTime.Now:T}]: Starting Ivan App");
            }
            catch (Exception e)
            {
                Console.WriteLine(e);
            }
        }
    }
}